{"ast":null,"code":"var _jsxFileName = \"/home/fsat/repos/tactics-board/src/ui/DrawMenu.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport DrawMode from '../pitch/DrawMode';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Divider from '@material-ui/core/Divider';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport List from '@material-ui/core/List';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Switch from '@material-ui/core/Switch';\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport PaletteIcon from '@material-ui/icons/Palette';\nimport { CursorDefault, VectorLine, ShapeSquarePlus, ShapeOvalPlus, ArrowLeft, ArrowRight, ArrowLeftRight, Minus, DotsHorizontal } from 'mdi-material-ui';\n\nclass DrawMenu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      lineArrows: false,\n      linePattern: false,\n      pitchOverlays: false,\n      textSizes: false\n    };\n    this.open = this.open.bind(this);\n    this.close = this.close.bind(this);\n    this.lineArrowsToggle = this.lineArrowsToggle.bind(this);\n    this.lineArrowEndToggle = this.lineArrowEndToggle.bind(this);\n    this.lineArrowStartToggle = this.lineArrowStartToggle.bind(this);\n    this.linePatternToggle = this.linePatternToggle.bind(this);\n    this.lineDashedOn = this.lineDashedOn.bind(this);\n    this.lineDashedOff = this.lineDashedOff.bind(this);\n    this.pitchOverlaysToggle = this.pitchOverlaysToggle.bind(this);\n    this.pitchOverlayOnChange = this.pitchOverlayOnChange.bind(this);\n    this.colorSelect = this.colorSelect.bind(this);\n    this.textSizesToggle = this.textSizesToggle.bind(this);\n    this.textSizeSelected = this.textSizeSelected.bind(this);\n  }\n\n  open() {\n    this.setState({\n      open: true\n    });\n  }\n\n  close(e) {\n    // read from \"data-value\" attribute\n    let mode = e.currentTarget.dataset.value;\n\n    if (mode) {\n      this.props.drawMode.mode = mode;\n    } // close sub menus\n\n\n    this.setState({\n      open: false,\n      lineArrows: false,\n      linePattern: false,\n      pitchOverlays: false,\n      textSizes: false\n    });\n  }\n\n  lineArrowsToggle() {\n    this.setState({\n      lineArrows: !this.state.lineArrows\n    });\n  }\n\n  lineArrowStartToggle() {\n    this.props.drawMode.lineArrowStart = !this.props.drawMode.lineArrowStart;\n  }\n\n  lineArrowEndToggle() {\n    this.props.drawMode.lineArrowEnd = !this.props.drawMode.lineArrowEnd;\n  }\n\n  lineArrowsIcon() {\n    const dm = this.props.drawMode;\n\n    if (dm.lineArrowStart && dm.lineArrowEnd) {\n      return /*#__PURE__*/React.createElement(ArrowLeftRight, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 12\n        }\n      });\n    }\n\n    if (!dm.lineArrowStart && dm.lineArrowEnd) {\n      return /*#__PURE__*/React.createElement(ArrowRight, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 12\n        }\n      });\n    }\n\n    if (dm.lineArrowStart && !dm.lineArrowEnd) {\n      return /*#__PURE__*/React.createElement(ArrowLeft, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 12\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(Minus, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    });\n  }\n\n  linePatternToggle() {\n    this.setState({\n      linePattern: !this.state.linePattern\n    });\n  }\n\n  lineDashedOn() {\n    this.props.drawMode.lineDashed = true;\n    this.setState({\n      linePattern: false\n    });\n  }\n\n  lineDashedOff() {\n    this.props.drawMode.lineDashed = false;\n    this.setState({\n      linePattern: false\n    });\n  }\n\n  linePatternIcon() {\n    if (this.props.drawMode.lineDashed) {\n      return /*#__PURE__*/React.createElement(DotsHorizontal, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 12\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(Minus, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    });\n  }\n\n  pitchOverlaysRender() {\n    return this.props.drawMode.pitchOverlayOptions.map((txt, index) => {\n      return /*#__PURE__*/React.createElement(FormControlLabel, {\n        key: index,\n        control: /*#__PURE__*/React.createElement(Radio, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 44\n          }\n        }),\n        label: txt,\n        value: txt,\n        style: {\n          marginLeft: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 5\n        }\n      });\n    });\n  }\n\n  pitchOverlaysToggle() {\n    this.setState({\n      pitchOverlays: !this.state.pitchOverlays\n    });\n  }\n\n  pitchOverlayOnChange(event) {\n    this.props.drawMode.pitchOverlay = event.target.value;\n    this.setState({\n      pitchOverlays: false,\n      open: false\n    });\n  }\n\n  colorSelect(e) {\n    this.close(e);\n    this.props.paletteDialogRef().Show();\n  }\n\n  textSizesToggle() {\n    this.setState({\n      textSizes: !this.state.textSizes\n    });\n  }\n\n  textSizeSelected(e) {\n    let sz = e.target.value;\n\n    if (sz) {\n      this.props.drawMode.textSize = parseInt(sz);\n    }\n\n    this.textSizesToggle();\n  }\n\n  textSizeItemsRender() {\n    return this.props.drawMode.textSizeOptions.map((txt, index) => {\n      return /*#__PURE__*/React.createElement(FormControlLabel, {\n        key: index,\n        control: /*#__PURE__*/React.createElement(Radio, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 44\n          }\n        }),\n        label: txt,\n        value: index,\n        style: {\n          marginLeft: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 5\n        }\n      });\n    });\n  }\n\n  render() {\n    const arrowsIcon = this.lineArrowsIcon();\n    const patternIcon = this.linePatternIcon();\n    const allColors = this.props.drawMode.colorOptions;\n    const colorSelected = allColors[this.props.drawMode.color];\n    const colorNameSelected = \"Color \" + this.props.drawMode.color;\n    return /*#__PURE__*/React.createElement(Menu, {\n      id: \"drawingMenu\",\n      anchorEl: this.props.anchorEl,\n      keepMounted: true,\n      open: this.state.open,\n      onClose: this.close,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      \"data-value\": \"select\",\n      onClick: this.close,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(CursorDefault, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Select / Move\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 5\n      }\n    })), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: this.pitchOverlaysToggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Pitch overlay\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 5\n      }\n    }), this.state.pitchOverlays ? /*#__PURE__*/React.createElement(ExpandLess, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 33\n      }\n    }) : /*#__PURE__*/React.createElement(ExpandMore, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 50\n      }\n    })), /*#__PURE__*/React.createElement(Collapse, {\n      in: this.state.pitchOverlays,\n      timeout: \"auto\",\n      unmountOnExit: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(RadioGroup, {\n      name: \"radio-pitch-overlays\",\n      value: this.props.drawMode.pitchOverlay,\n      onChange: this.pitchOverlayOnChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 5\n      }\n    }, this.pitchOverlaysRender())), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: this.colorSelect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(PaletteIcon, {\n      style: {\n        color: colorSelected\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: colorNameSelected,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 5\n      }\n    })), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      \"data-value\": \"line\",\n      onClick: this.close,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(VectorLine, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Draw line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 5\n      }\n    })), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: this.lineArrowsToggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 5\n      }\n    }, arrowsIcon), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Line arrows\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 5\n      }\n    }), this.state.lineArrows ? /*#__PURE__*/React.createElement(ExpandLess, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 30\n      }\n    }) : /*#__PURE__*/React.createElement(ExpandMore, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 47\n      }\n    })), /*#__PURE__*/React.createElement(Collapse, {\n      in: this.state.lineArrows,\n      timeout: \"auto\",\n      unmountOnExit: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(List, {\n      component: \"div\",\n      disablePadding: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: this.lineArrowEndToggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ArrowRight, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"End\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(ListItemSecondaryAction, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      edge: \"end\",\n      onChange: this.lineArrowEndToggle,\n      checked: this.props.drawMode.lineArrowEnd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 8\n      }\n    }))), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: this.lineArrowStartToggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ArrowLeft, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(ListItemSecondaryAction, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      edge: \"end\",\n      onChange: this.lineArrowStartToggle,\n      checked: this.props.drawMode.lineArrowStart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 8\n      }\n    }))))), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: this.linePatternToggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 5\n      }\n    }, patternIcon), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Line pattern\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 5\n      }\n    }), this.state.linePattern ? /*#__PURE__*/React.createElement(ExpandLess, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 31\n      }\n    }) : /*#__PURE__*/React.createElement(ExpandMore, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 48\n      }\n    })), /*#__PURE__*/React.createElement(Collapse, {\n      in: this.state.linePattern,\n      timeout: \"auto\",\n      unmountOnExit: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(List, {\n      component: \"div\",\n      disablePadding: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: this.lineDashedOff,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Minus, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Solid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: this.lineDashedOn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(DotsHorizontal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Dashed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 7\n      }\n    })))), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      \"data-value\": \"square\",\n      onClick: this.close,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(ShapeSquarePlus, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Draw square\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 5\n      }\n    })), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      \"data-value\": \"ellipse\",\n      onClick: this.close,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(ShapeOvalPlus, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Draw ellipse\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 5\n      }\n    })), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      \"data-value\": \"text\",\n      onClick: this.close,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(TextFieldsIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Write text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 5\n      }\n    })), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: this.textSizesToggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Text size\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 5\n      }\n    }), this.state.textSizes ? /*#__PURE__*/React.createElement(ExpandLess, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 29\n      }\n    }) : /*#__PURE__*/React.createElement(ExpandMore, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 46\n      }\n    })), /*#__PURE__*/React.createElement(Collapse, {\n      in: this.state.textSizes,\n      timeout: \"auto\",\n      unmountOnExit: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(RadioGroup, {\n      name: \"radio-pitch-textSize\",\n      value: this.props.drawMode.textSize,\n      onChange: this.textSizeSelected,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 5\n      }\n    }, this.textSizeItemsRender())));\n  }\n\n}\n\nDrawMenu.defaultProps = {\n  anchorEl: null,\n  drawMode: null,\n  paletteDialogRef: null\n};\nDrawMenu.propTypes = {\n  anchorEl: PropTypes.func,\n  drawMode: PropTypes.instanceOf(DrawMode),\n  paletteDialogRef: PropTypes.func\n};\nexport default DrawMenu;","map":{"version":3,"sources":["/home/fsat/repos/tactics-board/src/ui/DrawMenu.js"],"names":["React","Component","PropTypes","DrawMode","Menu","MenuItem","Divider","Collapse","ExpandLess","ExpandMore","List","ListItemIcon","ListItemText","ListItemSecondaryAction","Switch","TextFieldsIcon","Radio","RadioGroup","FormControlLabel","PaletteIcon","CursorDefault","VectorLine","ShapeSquarePlus","ShapeOvalPlus","ArrowLeft","ArrowRight","ArrowLeftRight","Minus","DotsHorizontal","DrawMenu","constructor","props","state","open","lineArrows","linePattern","pitchOverlays","textSizes","bind","close","lineArrowsToggle","lineArrowEndToggle","lineArrowStartToggle","linePatternToggle","lineDashedOn","lineDashedOff","pitchOverlaysToggle","pitchOverlayOnChange","colorSelect","textSizesToggle","textSizeSelected","setState","e","mode","currentTarget","dataset","value","drawMode","lineArrowStart","lineArrowEnd","lineArrowsIcon","dm","lineDashed","linePatternIcon","pitchOverlaysRender","pitchOverlayOptions","map","txt","index","marginLeft","event","pitchOverlay","target","paletteDialogRef","Show","sz","textSize","parseInt","textSizeItemsRender","textSizeOptions","render","arrowsIcon","patternIcon","allColors","colorOptions","colorSelected","color","colorNameSelected","anchorEl","defaultProps","propTypes","func","instanceOf"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport DrawMode from '../pitch/DrawMode';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Divider from '@material-ui/core/Divider';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport List from '@material-ui/core/List';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Switch from '@material-ui/core/Switch';\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport PaletteIcon from '@material-ui/icons/Palette';\nimport { CursorDefault, VectorLine, ShapeSquarePlus, ShapeOvalPlus, ArrowLeft, ArrowRight, ArrowLeftRight, Minus, DotsHorizontal } from 'mdi-material-ui'\n\nclass DrawMenu extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\topen: false,\n\t\t\tlineArrows: false,\n\t\t\tlinePattern: false,\n\t\t\tpitchOverlays: false,\n\t\t\ttextSizes: false\n\t\t}\n\n\t\tthis.open = this.open.bind(this);\n\t\tthis.close = this.close.bind(this);\n\n\t\tthis.lineArrowsToggle = this.lineArrowsToggle.bind(this);\n\t\tthis.lineArrowEndToggle = this.lineArrowEndToggle.bind(this);\n\t\tthis.lineArrowStartToggle = this.lineArrowStartToggle.bind(this);\n\n\t\tthis.linePatternToggle = this.linePatternToggle.bind(this);\n\t\tthis.lineDashedOn = this.lineDashedOn.bind(this);\n\t\tthis.lineDashedOff = this.lineDashedOff.bind(this);\n\n\t\tthis.pitchOverlaysToggle = this.pitchOverlaysToggle.bind(this); \n\t\tthis.pitchOverlayOnChange = this.pitchOverlayOnChange.bind(this);\n\n\t\tthis.colorSelect = this.colorSelect.bind(this);\n\n\t\tthis.textSizesToggle = this.textSizesToggle.bind(this);\n\t\tthis.textSizeSelected = this.textSizeSelected.bind(this);\n\t}\n\n\topen() {\n\t\tthis.setState({open:true});\n\t}\n\n\tclose(e) {\n\t\t// read from \"data-value\" attribute\n\t\tlet mode = e.currentTarget.dataset.value;\n\t\tif (mode) {\n\t\t\tthis.props.drawMode.mode = mode;\n\t\t}\n\t\t// close sub menus\n\t\tthis.setState({\n\t\t\topen:false,\n\t\t\tlineArrows: false,\n\t\t\tlinePattern: false,\n\t\t\tpitchOverlays: false,\n\t\t\ttextSizes: false\n\t\t});\n\t}\n\n\tlineArrowsToggle() {\n\t\tthis.setState({\n\t\t\tlineArrows: !this.state.lineArrows\n\t\t});\n\t}\n\n\tlineArrowStartToggle() {\n\t\tthis.props.drawMode.lineArrowStart = !this.props.drawMode.lineArrowStart\n\t}\n\n\tlineArrowEndToggle() {\n\t\tthis.props.drawMode.lineArrowEnd = !this.props.drawMode.lineArrowEnd\n\t}\n\n\tlineArrowsIcon() {\n\t\tconst dm = this.props.drawMode;\n\t\tif (dm.lineArrowStart && dm.lineArrowEnd) {\n\t\t\treturn (<ArrowLeftRight />);\n\t\t}\n\t\tif (!dm.lineArrowStart && dm.lineArrowEnd) {\n\t\t\treturn (<ArrowRight />);\n\t\t}\n\t\tif (dm.lineArrowStart && !dm.lineArrowEnd) {\n\t\t\treturn (<ArrowLeft />);\n\t\t}\n\t\treturn (<Minus />);\n\t}\n\n\tlinePatternToggle() {\n\t\tthis.setState({\n\t\t\tlinePattern: !this.state.linePattern\n\t\t});\n\t}\n\n\tlineDashedOn() {\n\t\tthis.props.drawMode.lineDashed = true;\n\t\tthis.setState({\n\t\t\tlinePattern: false\n\t\t});\n\t}\n\n\tlineDashedOff() {\n\t\tthis.props.drawMode.lineDashed = false;\n\t\tthis.setState({\n\t\t\tlinePattern: false\n\t\t});\n\t}\n\n\tlinePatternIcon() {\n\t\tif (this.props.drawMode.lineDashed) {\n\t\t\treturn (<DotsHorizontal />);\n\t\t}\n\t\treturn (<Minus />);\n\t}\n\n\tpitchOverlaysRender() {\n\t\treturn this.props.drawMode.pitchOverlayOptions.map((txt, index) => {\n\t\t\treturn (\n\t\t\t\t<FormControlLabel key={index} control={<Radio />} label={txt} value={txt} style={{marginLeft:0}} />\n\t\t\t);\n\t\t});\n\t}\n\n\tpitchOverlaysToggle() {\n\t\tthis.setState({\n\t\t\tpitchOverlays: !this.state.pitchOverlays\n\t\t});\n\t}\n\n\tpitchOverlayOnChange(event) {\n\t\tthis.props.drawMode.pitchOverlay = event.target.value;\n\t\tthis.setState({\n\t\t\tpitchOverlays: false,\n\t\t\topen: false\n\t\t});\n\t}\n\n\tcolorSelect(e) {\n\t\tthis.close(e);\n\t\tthis.props.paletteDialogRef().Show();\n\t}\n\n\ttextSizesToggle() {\n\t\tthis.setState({\n\t\t\ttextSizes: !this.state.textSizes\n\t\t});\n\t}\n\n\ttextSizeSelected(e) {\n\t\tlet sz = e.target.value;\n\t\tif (sz) {\n\t\t\tthis.props.drawMode.textSize = parseInt(sz);\n\t\t}\n\t\tthis.textSizesToggle();\n\t}\n\n\ttextSizeItemsRender() {\n\t\treturn this.props.drawMode.textSizeOptions.map((txt, index) => {\n\t\t\treturn (\n\t\t\t\t<FormControlLabel key={index} control={<Radio />} label={txt} value={index} style={{marginLeft:0}} />\n\t\t\t);\n\t\t});\n\t}\n\n\trender() {\n\t\tconst arrowsIcon = this.lineArrowsIcon();\n\t\tconst patternIcon = this.linePatternIcon();\n\n\t\tconst allColors = this.props.drawMode.colorOptions;\n\t\tconst colorSelected = allColors[this.props.drawMode.color];\n\t\tconst colorNameSelected = \"Color \" + this.props.drawMode.color;\n\n\t\treturn (\n\t\t<Menu id=\"drawingMenu\" anchorEl={this.props.anchorEl} keepMounted open={this.state.open} onClose={this.close}>\n\t\t\t<MenuItem data-value=\"select\" onClick={this.close}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<CursorDefault />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText primary=\"Select / Move\" />\n\t\t\t</MenuItem>\n\t\t\t<Divider />\n\t\t\t<MenuItem onClick={this.pitchOverlaysToggle}>\n\t\t\t\t<ListItemText primary=\"Pitch overlay\" />\n\t\t\t\t{this.state.pitchOverlays ? <ExpandLess /> : <ExpandMore />}\n\t\t\t</MenuItem>\n\t\t\t<Collapse in={this.state.pitchOverlays} timeout=\"auto\" unmountOnExit>\n\t\t\t\t<RadioGroup name=\"radio-pitch-overlays\" value={this.props.drawMode.pitchOverlay} onChange={this.pitchOverlayOnChange}>\n\t\t\t\t\t{this.pitchOverlaysRender()}\n\t\t\t\t</RadioGroup>\n\t\t\t</Collapse>\n\t\t\t<Divider />\n\t\t\t<MenuItem onClick={this.colorSelect}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<PaletteIcon style={{ color: colorSelected }} />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText primary={colorNameSelected} />\n\t\t\t</MenuItem>\n\t\t\t<Divider />\n\t\t\t<MenuItem data-value=\"line\" onClick={this.close}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<VectorLine />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText primary=\"Draw line\" />\n\t\t\t</MenuItem>\n\t\t\t<MenuItem onClick={this.lineArrowsToggle}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t{arrowsIcon}\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText primary=\"Line arrows\" />\n\t\t\t\t{this.state.lineArrows ? <ExpandLess /> : <ExpandMore />}\n\t\t\t</MenuItem>\n\t\t\t<Collapse in={this.state.lineArrows} timeout=\"auto\" unmountOnExit>\n\t\t\t\t<List component=\"div\" disablePadding>\n\t\t\t\t\t<MenuItem onClick={this.lineArrowEndToggle}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<ArrowRight />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary=\"End\" />\n\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t<Switch edge=\"end\" onChange={this.lineArrowEndToggle} checked={this.props.drawMode.lineArrowEnd} />\n\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t</MenuItem>\n\t\t\t\t\t<MenuItem onClick={this.lineArrowStartToggle}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<ArrowLeft />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary=\"Start\" />\n\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t<Switch edge=\"end\" onChange={this.lineArrowStartToggle} checked={this.props.drawMode.lineArrowStart} />\n\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</List>\n\t\t\t</Collapse>\n\t\t\t<MenuItem onClick={this.linePatternToggle}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t{patternIcon}\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText primary=\"Line pattern\" />\n\t\t\t\t{this.state.linePattern ? <ExpandLess /> : <ExpandMore />}\n\t\t\t</MenuItem>\n\t\t\t<Collapse in={this.state.linePattern} timeout=\"auto\" unmountOnExit>\n\t\t\t\t<List component=\"div\" disablePadding>\n\t\t\t\t\t<MenuItem onClick={this.lineDashedOff}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<Minus />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary=\"Solid\" />\n\t\t\t\t\t</MenuItem>\n\t\t\t\t\t<MenuItem onClick={this.lineDashedOn}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<DotsHorizontal />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary=\"Dashed\" />\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</List>\n\t\t\t</Collapse>\n\t\t\t<Divider />\n\t\t\t<MenuItem data-value=\"square\" onClick={this.close}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<ShapeSquarePlus />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText primary=\"Draw square\" />\n\t\t\t</MenuItem>\n\t\t\t<Divider />\n\t\t\t<MenuItem data-value=\"ellipse\" onClick={this.close}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<ShapeOvalPlus />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText primary=\"Draw ellipse\" />\n\t\t\t</MenuItem>\n\t\t\t<Divider />\n\t\t\t<MenuItem data-value=\"text\" onClick={this.close}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<TextFieldsIcon />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText primary=\"Write text\" />\n\t\t\t</MenuItem>\n\t\t\t<MenuItem onClick={this.textSizesToggle}>\n\t\t\t\t<ListItemText primary=\"Text size\" />\n\t\t\t\t{this.state.textSizes ? <ExpandLess /> : <ExpandMore />}\n\t\t\t</MenuItem>\n\t\t\t<Collapse in={this.state.textSizes} timeout=\"auto\" unmountOnExit>\n\t\t\t\t<RadioGroup name=\"radio-pitch-textSize\" value={this.props.drawMode.textSize} onChange={this.textSizeSelected}>\n\t\t\t\t\t{this.textSizeItemsRender()}\n\t\t\t\t</RadioGroup>\n\t\t\t</Collapse>\n\t\t</Menu>\n\t\t);\n\t}\n}\n\nDrawMenu.defaultProps = {\n\tanchorEl: null,\n\tdrawMode: null,\n\tpaletteDialogRef: null\n}\n\nDrawMenu.propTypes = {\n\tanchorEl: PropTypes.func,\n\tdrawMode: PropTypes.instanceOf(DrawMode),\n\tpaletteDialogRef: PropTypes.func\n};\n\nexport default DrawMenu;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import Box from './Box';\n\nclass Text {\n  constructor(id = \"\", color = 0, size = 0, text = \"\", x = 0, y = 0, rotation = 0, isEdit = false, isTextEdit = false) {\n    this.id = id;\n    this.color = color;\n    this.size = size;\n    this.text = text;\n    this.x = x;\n    this.y = y;\n    this.rotation = rotation;\n    this.bx = x; // bounding box X\n\n    this.by = y; // bounding box Y\n\n    this.bwidth = 0; // bounding box Width\n\n    this.bheight = 0; // bounding box Height\n\n    this.isEdit = isEdit;\n    this.isTextEdit = isTextEdit;\n  }\n\n  get box() {\n    return new Box(this.id, this.bx, this.by, this.bwidth, this.bheight);\n  }\n\n  move(deltaX, deltaY) {\n    this.x += deltaX;\n    this.y += deltaY;\n  }\n\n  rotate(posX, posY, snap) {\n    let vx = posX - (this.x + this.bwidth / 2);\n    let vy = posY - (this.y + this.bheight / 2);\n    let angle = Math.atan2(vy, vx) * 180 / Math.PI;\n    angle += 90;\n\n    if (angle < 0) {\n      angle += 360;\n    }\n\n    if (snap) {\n      angle = Math.floor(angle / 45) * 45;\n    }\n\n    this.rotation = angle;\n  }\n\n}\n\nexport default Text;","map":{"version":3,"sources":["/home/fsat/repos/tactics-board/src/pitch/Text.js"],"names":["Box","Text","constructor","id","color","size","text","x","y","rotation","isEdit","isTextEdit","bx","by","bwidth","bheight","box","move","deltaX","deltaY","rotate","posX","posY","snap","vx","vy","angle","Math","atan2","PI","floor"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,OAAhB;;AAEA,MAAMC,IAAN,CAAW;AACVC,EAAAA,WAAW,CAACC,EAAE,GAAC,EAAJ,EAAQC,KAAK,GAAC,CAAd,EAAiBC,IAAI,GAAC,CAAtB,EAAyBC,IAAI,GAAC,EAA9B,EAAkCC,CAAC,GAAC,CAApC,EAAuCC,CAAC,GAAC,CAAzC,EAA4CC,QAAQ,GAAC,CAArD,EAAwDC,MAAM,GAAC,KAA/D,EAAsEC,UAAU,GAAC,KAAjF,EAAuF;AACjG,SAAKR,EAAL,GAAUA,EAAV;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKG,EAAL,GAAUL,CAAV,CARiG,CAQnF;;AACd,SAAKM,EAAL,GAAUL,CAAV,CATiG,CASnF;;AACd,SAAKM,MAAL,GAAc,CAAd,CAViG,CAUhF;;AACjB,SAAKC,OAAL,GAAe,CAAf,CAXiG,CAW/E;;AAClB,SAAKL,MAAL,GAAcA,MAAd;AACA,SAAKC,UAAL,GAAkBA,UAAlB;AACA;;AAEM,MAAHK,GAAG,GAAG;AACT,WAAO,IAAIhB,GAAJ,CACN,KAAKG,EADC,EAEN,KAAKS,EAFC,EAGN,KAAKC,EAHC,EAIN,KAAKC,MAJC,EAKN,KAAKC,OALC,CAAP;AAOA;;AAEDE,EAAAA,IAAI,CAACC,MAAD,EAASC,MAAT,EAAiB;AACpB,SAAKZ,CAAL,IAAUW,MAAV;AACA,SAAKV,CAAL,IAAUW,MAAV;AACA;;AAEDC,EAAAA,MAAM,CAACC,IAAD,EAAOC,IAAP,EAAaC,IAAb,EAAmB;AACxB,QAAIC,EAAE,GAAGH,IAAI,IAAI,KAAKd,CAAL,GAAS,KAAKO,MAAL,GAAc,CAA3B,CAAb;AACA,QAAIW,EAAE,GAAGH,IAAI,IAAI,KAAKd,CAAL,GAAS,KAAKO,OAAL,GAAe,CAA5B,CAAb;AACA,QAAIW,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWH,EAAX,EAAeD,EAAf,IAAqB,GAArB,GAA2BG,IAAI,CAACE,EAA5C;AACAH,IAAAA,KAAK,IAAI,EAAT;;AACA,QAAIA,KAAK,GAAG,CAAZ,EAAe;AACdA,MAAAA,KAAK,IAAI,GAAT;AACA;;AACD,QAAIH,IAAJ,EAAU;AACTG,MAAAA,KAAK,GAAGC,IAAI,CAACG,KAAL,CAAWJ,KAAK,GAAG,EAAnB,IAAyB,EAAjC;AACA;;AACD,SAAKjB,QAAL,GAAgBiB,KAAhB;AACA;;AA5CS;;AA+CX,eAAezB,IAAf","sourcesContent":["import Box from './Box';\n\nclass Text {\n\tconstructor(id=\"\", color=0, size=0, text=\"\", x=0, y=0, rotation=0, isEdit=false, isTextEdit=false){\n\t\tthis.id = id;\n\t\tthis.color = color;\n\t\tthis.size = size;\n\t\tthis.text = text;\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.rotation = rotation;\n\t\tthis.bx = x;\t\t// bounding box X\n\t\tthis.by = y;\t\t// bounding box Y\n\t\tthis.bwidth = 0;\t// bounding box Width\n\t\tthis.bheight = 0;\t// bounding box Height\n\t\tthis.isEdit = isEdit;\n\t\tthis.isTextEdit = isTextEdit;\n\t}\n\n\tget box() {\n\t\treturn new Box(\n\t\t\tthis.id,\n\t\t\tthis.bx,\n\t\t\tthis.by,\n\t\t\tthis.bwidth,\n\t\t\tthis.bheight\n\t\t);\n\t}\n\n\tmove(deltaX, deltaY) {\n\t\tthis.x += deltaX;\n\t\tthis.y += deltaY;\n\t}\n\n\trotate(posX, posY, snap) {\n\t\tlet vx = posX - (this.x + this.bwidth / 2);\n\t\tlet vy = posY - (this.y + this.bheight / 2);\n\t\tlet angle = Math.atan2(vy, vx) * 180 / Math.PI;\n\t\tangle += 90;\n\t\tif (angle < 0) {\n\t\t\tangle += 360;\n\t\t}\n\t\tif (snap) {\n\t\t\tangle = Math.floor(angle / 45) * 45;\n\t\t}\n\t\tthis.rotation = angle;\n\t}\n}\n\nexport default Text;\n"]},"metadata":{},"sourceType":"module"}